<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Classify outcomes with negative numbers that are incompatible with ratio approaches — ClassifyNegVals • ERAg</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Classify outcomes with negative numbers that are incompatible with ratio approaches — ClassifyNegVals"><meta property="og:description" content="For a the supplied outcome argument OCode this function classifies the difference between MeanC and MeanT into character and numeric columns based on the
Threshold and Vals arguments. These columns are appended to the input dataset that has been subset to the outcome of interest."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ERAg</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.4.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/ERA-Explore-and-Analyze.html">ERA-Explore-and-Analyze</a>
    </li>
    <li>
      <a href="../articles/ERA-Introduction.html">ERA-Introduction</a>
    </li>
    <li>
      <a href="../articles/ERA-Search-Protocol.html">ERA-Search-Protocols-Draft</a>
    </li>
    <li>
      <a href="../articles/ERA-Yield-Stability.html">ERA Yield Stability</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Classify outcomes with negative numbers that are incompatible with ratio approaches</h1>

    <div class="hidden name"><code>ClassifyNegVals.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>For a the supplied outcome argument <code>OCode</code> this function classifies the difference between <code>MeanC</code> and <code>MeanT</code> into character and numeric columns based on the
<code>Threshold</code> and <code>Vals</code> arguments. These columns are appended to the input dataset that has been subset to the outcome of interest.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ClassifyNegVals</span><span class="op">(</span></span>
<span>  <span class="va">Data</span>,</span>
<span>  <span class="va">OCode</span>,</span>
<span>  Thresholds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.7</span>, <span class="fl">0.95</span>, <span class="fl">1.05</span>, <span class="fl">1.3</span><span class="op">)</span>,</span>
<span>  Vals <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>`0` <span class="op">=</span> <span class="fl">0</span>, `++` <span class="op">=</span> <span class="fl">2</span>, `+` <span class="op">=</span> <span class="fl">1</span>, `-` <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>, `--` <span class="op">=</span> <span class="op">-</span><span class="fl">2</span>, `+-` <span class="op">=</span> <span class="fl">1</span>, `-+` <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>, `+0` <span class="op">=</span></span>
<span>    <span class="fl">1</span>, `0+` <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>, `-0` <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>, `0-` <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>  Invert2xNeg <span class="op">=</span> <span class="cn">T</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-data">Data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>An ERA data.table (e.g. <code><a href="ERA.Compiled.html">ERAg::ERA.Compiled</a></code>).</p></dd>


<dt id="arg-ocode">OCode<a class="anchor" aria-label="anchor" href="#arg-ocode"></a></dt>
<dd><p>An ERA outcome code (see <code>ERAg::OutcomeCodes[,Codes]</code>.</p></dd>


<dt id="arg-thresholds">Thresholds<a class="anchor" aria-label="anchor" href="#arg-thresholds"></a></dt>
<dd><p>A numeric vector of length four corresponding to classification thresholds for worst, poor, good &amp; best outcomes. If:</p><ul><li><p><code>MeanT/MeanC&lt;Threshold[1]</code> then Class = <code>--</code></p></li>
<li><p><code>Threshold[1]&lt;=MeanT/MeanC&lt;Threshold[2]</code> then Class = <code>-</code></p></li>
<li><p><code>Threshold[2]&lt;=MeanT/MeanC&lt;Threshold[3]</code> then Class = <code>0</code></p></li>
<li><p><code>Threshold[3]&lt;=MeanT/MeanC&lt;Threshold[4]</code> then Class = <code>+</code></p></li>
<li><p><code>MeanT/MeanC&gt;=Threshold[4]`` then Class = </code>++`</p></li>
</ul></dd>


<dt id="arg-vals">Vals<a class="anchor" aria-label="anchor" href="#arg-vals"></a></dt>
<dd><p>A numeric vector of length 11 proving numeric scores for each outcome classification:</p><ul><li><p><code>Vals[1]</code>: Class <code>0</code> = <code>MeanT/MeanC&lt;Threshold[1]</code></p></li>
<li><p><code>Vals[2]</code>: Class <code>++</code> = <code>Threshold[1]&lt;=MeanT/MeanC&lt;Threshold[2]</code></p></li>
<li><p><code>Vals[3]</code>: Class <code>+</code>= <code>Threshold[2]&lt;=MeanT/MeanC&lt;Threshold[3]</code></p></li>
<li><p><code>Vals[4]</code>: Class <code>-</code> = <code>Threshold[3]&lt;=MeanT/MeanC&lt;Threshold[4]</code></p></li>
<li><p><code>Vals[5]</code>: Class <code>--</code> = <code>MeanT/MeanC&gt;=Threshold[4]</code></p></li>
<li><p><code>Vals[6]</code>: Class <code>+-</code> = <code>MeanT&gt;0 &amp; MeanC&lt;0</code></p></li>
<li><p><code>Vals[7]</code>: Class <code>-+</code> =<code> MeanT&lt;0 &amp; MeanC&gt;0</code></p></li>
<li><p><code>Vals[8]</code>: Class <code>+0</code> = <code>MeanT&gt;0 &amp; MeanC==0</code></p></li>
<li><p><code>Vals[9]</code>: Class <code>0+</code> = <code>MeanT==0 &amp; MeanC&gt;0</code></p></li>
<li><p><code>Vals[10]</code>: Class <code>-0</code> = <code>MeanT&lt;0 &amp; MeanC==0</code></p></li>
<li><p><code>Vals[11]</code>: Class <code>0-</code> = <code>MeanT==0 &amp; MeanC&lt;0</code></p></li>
</ul></dd>


<dt id="arg-invert-xneg">Invert2xNeg<a class="anchor" aria-label="anchor" href="#arg-invert-xneg"></a></dt>
<dd><p>Logical <code>T/F</code>. Where MeanC&lt;0 &amp; MeanT&lt;0 invert the calculation of yi to <code>log(MeanC/MeanT)</code></p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>ClassifyNegVals returns the input Data subset to the outcome provided in the <code>OCode</code>argument and with the additional columns:</p><ul><li><p><code>Class</code> a character vector of class names</p></li>
<li><p><code>Class.Val</code> a numeric vector of class values</p></li>
</ul></div>
    <div id="details">
    <h2>Details</h2>
    <p>When generating ratios the function will invert outcomes where <code>MeanT</code> and <code>MeanC</code> are both negative unless the <code>Invert2xNeg</code> argument is set to <code>FALSE</code>.</p>
<p>Where MeanC is NA and MeanT is populated this function will base classfications on the MeanT value only.</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Peter Steward.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

