<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ERA-Introduction • ERAg</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="ERA-Introduction">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ERAg</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.4.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/ERA-Explore-and-Analyze.html">ERA-Explore-and-Analyze</a>
    </li>
    <li>
      <a href="../articles/ERA-Introduction.html">ERA-Introduction</a>
    </li>
    <li>
      <a href="../articles/ERA-Search-Protocol.html">ERA-Search-Protocols-Draft</a>
    </li>
    <li>
      <a href="../articles/ERA-Yield-Stability.html">ERA Yield Stability</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>ERA-Introduction</h1>
                        <h4 data-toc-skip class="author">Peter Steward
&amp; Todd Rosenstock</h4>
            
            <h4 data-toc-skip class="date">2025-04-02</h4>
      

      <div class="hidden name"><code>ERA-Introduction.Rmd</code></div>

    </div>

    
    
<p>In this vignette, we will explore key components of the ERA dataset
and some derived products to which it can be linked (also provided in
the <code>ERAg</code> package). This is not intended to be a complete
explanation of everything ERA. Instead its purpose is to highlight a few
features to kick-start use and analysis. Please send feedback on the
explanations or on discoveries that should be included in the next
version to Pete Steward (<a href="mailto:p.steward@cgiar.org" class="email">p.steward@cgiar.org</a>). Please post any questions to the
ERA-Data-Sprint Slack Workspace.</p>
<div class="section level2">
<h2 id="accessing-era">Accessing ERA<a class="anchor" aria-label="anchor" href="#accessing-era"></a>
</h2>
<p>The ERA dataset is included with the <code>ERAg</code> package as a
<code>data.table</code> object
<strong><code>ERA.Compiled</code></strong>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu">ERAg</span><span class="fu">::</span><span class="va"><a href="../reference/ERA.Compiled.html">ERA.Compiled</a></span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">8</span><span class="op">]</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="6%">
<col width="7%">
<col width="10%">
<col width="5%">
<col width="22%">
<col width="27%">
<col width="10%">
<col width="8%">
</colgroup>
<thead><tr class="header">
<th align="right">Index</th>
<th align="left">Code</th>
<th align="left">Author</th>
<th align="right">Date</th>
<th align="left">Journal</th>
<th align="left">DOI</th>
<th align="left">Elevation</th>
<th align="left">Country</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">NN0001</td>
<td align="left">Bationo A</td>
<td align="right">1997</td>
<td align="left">NUTR CYCL AGROECOSYS</td>
<td align="left">10.1023/a:;1009784812549</td>
<td align="left">NA</td>
<td align="left">Mali</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="left">NN0001</td>
<td align="left">Bationo A</td>
<td align="right">1997</td>
<td align="left">NUTR CYCL AGROECOSYS</td>
<td align="left">10.1023/a:;1009784812549</td>
<td align="left">NA</td>
<td align="left">Mali</td>
</tr>
<tr class="odd">
<td align="right">9</td>
<td align="left">NN0001</td>
<td align="left">Bationo A</td>
<td align="right">1997</td>
<td align="left">NUTR CYCL AGROECOSYS</td>
<td align="left">10.1023/a:;1009784812549</td>
<td align="left">NA</td>
<td align="left">Mali</td>
</tr>
<tr class="even">
<td align="right">13</td>
<td align="left">NN0001</td>
<td align="left">Bationo A</td>
<td align="right">1997</td>
<td align="left">NUTR CYCL AGROECOSYS</td>
<td align="left">10.1023/a:;1009784812549</td>
<td align="left">NA</td>
<td align="left">Mali</td>
</tr>
<tr class="odd">
<td align="right">17</td>
<td align="left">NN0001</td>
<td align="left">Bationo A</td>
<td align="right">1997</td>
<td align="left">NUTR CYCL AGROECOSYS</td>
<td align="left">10.1023/a:;1009784812549</td>
<td align="left">NA</td>
<td align="left">Mali</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="eras-structure">ERA’s structure<a class="anchor" aria-label="anchor" href="#eras-structure"></a>
</h2>
<p>Each row of the dataset forms one
<strong><code>observation</code></strong>. An observation encodes a
unique article, site, treatment comparison, outcome measure, and time
period combination. Each observation includes the article’s
bibliographic information, spatial variables, environmental context,
experimental design, treatment comparisons, and outcome indicator
effects. Each observation has a unique identifier in the
<code>Index</code> column. The <strong><code>Code</code></strong> is
each study’s unique identifier. The most complete description of ERA
fields can be found in either <code>ERA.Compiled</code>, the
<code>ERACompiledFields</code> object from within R, or ‘Online-only
Table 2’ in the Data Descriptor manuscript.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu">ERAg</span><span class="fu">::</span><span class="va">ERACompiledFields</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">7</span>,<span class="fl">10</span>,<span class="fl">19</span>,<span class="fl">50</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Field.Name"</span>,<span class="st">"Description"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="2%">
<col width="97%">
</colgroup>
<thead><tr class="header">
<th align="left">Field.Name</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Index</td>
<td align="left">A unique number identifiying an single observation
(i.e. row) in ERA.</td>
</tr>
<tr class="even">
<td align="left">Elevation</td>
<td align="left">The elevation in meters (m). Provide the mid-point if a
range is given.</td>
</tr>
<tr class="odd">
<td align="left">Site.Type</td>
<td align="left">One of the following: Farm, Station, Greenhouse,
Survey, or Lab.</td>
</tr>
</tbody>
</table>
<p>Farm research is conducted in a farmer’s field and can be managed by
the farmer or researcher. Station research is conducted in a controlled
setting of research station, university or school. Survey research is
conducted via interviews that yields quantitative data based on
testimonial. Greenhouse is conducted in a greenhouse and is only
relevant for studies of greenhouse gas emissions data. Lab studies can
include fisheries feeding trials conducted at a small scale in
university research labs. | |Soil.Texture |List the soil texture
provided in the text or in tables in lowercase letters. If no texture is
named, but % of sand, silt and clay are given, use the soil texture
triangle to estimate soil texture (<a href="https://www.nrcs.usda.gov/wps/portal/nrcs/detail/soils/survey/?cid=nrcs142p2_054167" class="external-link uri">https://www.nrcs.usda.gov/wps/portal/nrcs/detail/soils/survey/?cid=nrcs142p2_054167</a>).
| |Units |Free text description of the units of the data being reported
without special characters or formatting. |</p>
</div>
<div class="section level2">
<h2 id="bibliographic-variables">Bibliographic Variables<a class="anchor" aria-label="anchor" href="#bibliographic-variables"></a>
</h2>
<p>Even bibliographic data can provide insights in to agricultural
research. The <strong><code>Author</code></strong>,
,<strong><code>Date</code></strong>, <strong><code>DOI</code></strong>
and <strong><code>Journal</code></strong> fields provide bibliographic
information for the publication that has contributed the row of data.
<strong><code>DataLoc</code></strong> field describes where data were
extracted from in the publication (e.g. a table or figure). Here, a
simple plot shows how the number of publications reporting different ERA
practice themes changes over time:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="fu">ERAg</span><span class="fu">::</span><span class="va"><a href="../reference/ERA.Compiled.html">ERA.Compiled</a></span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">Code</span>,<span class="va">Author</span>,<span class="va">Date</span>,<span class="va">Journal</span>,<span class="va">DOI</span>,<span class="va">DataLoc</span><span class="op">)</span><span class="op">]</span><span class="op">)</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="6%">
<col width="11%">
<col width="4%">
<col width="19%">
<col width="24%">
<col width="33%">
</colgroup>
<thead><tr class="header">
<th align="left">Code</th>
<th align="left">Author</th>
<th align="right">Date</th>
<th align="left">Journal</th>
<th align="left">DOI</th>
<th align="left">DataLoc</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">NN0001</td>
<td align="left">Bationo A</td>
<td align="right">1997</td>
<td align="left">NUTR CYCL AGROECOSYS</td>
<td align="left">10.1023/a:;1009784812549</td>
<td align="left">Tab 3</td>
</tr>
<tr class="even">
<td align="left">NN0002</td>
<td align="left">Gigou J</td>
<td align="right">2009</td>
<td align="left">EXP AGR</td>
<td align="left">10.1017/s0014479709990421</td>
<td align="left">Tab 5</td>
</tr>
<tr class="odd">
<td align="left">NN0002</td>
<td align="left">Gigou J</td>
<td align="right">2009</td>
<td align="left">EXP AGR</td>
<td align="left">10.1017/s0014479709990421</td>
<td align="left">Fig 3a.3b.3c</td>
</tr>
<tr class="even">
<td align="left">NN0002</td>
<td align="left">Gigou J</td>
<td align="right">2009</td>
<td align="left">EXP AGR</td>
<td align="left">10.1017/s0014479709990421</td>
<td align="left">Tab 4</td>
</tr>
<tr class="odd">
<td align="left">NN0003</td>
<td align="left">Shahandeh H</td>
<td align="right">2004</td>
<td align="left">BIOL FERT SOILS</td>
<td align="left">10.1007/s00374-003-0718-y</td>
<td align="left">Fig 2a.Fig 2b.Fig 2c.Fig 2d.Fig 2e</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Plot no. studies x theme x year</span></span>
<span></span>
<span><span class="co"># Subset data</span></span>
<span><span class="va">PrxThxYe</span><span class="op">&lt;-</span><span class="va">ERA.Compiled</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">Date</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">Theme</span>,<span class="va">Code</span>,<span class="va">Date</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co"># Split Theme on "-" delim (multiple themes can be present in an experimental treatment)</span></span>
<span><span class="va">ThemeSplit</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">PrxThxYe</span><span class="op">[</span>,<span class="va">Theme</span><span class="op">]</span>,<span class="st">"-"</span><span class="op">)</span></span>
<span><span class="co"># Count no. themes per observation &amp; replicate each row by N</span></span>
<span><span class="va">N</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">PrxThxYe</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">ThemeSplit</span>,<span class="va">length</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># Do replication and add split theme back</span></span>
<span><span class="va">PrxThxYe</span><span class="op">&lt;-</span><span class="va">PrxThxYe</span><span class="op">[</span><span class="va">N</span><span class="op">]</span><span class="op">[</span>,<span class="va">Theme</span><span class="op">:=</span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">ThemeSplit</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co"># Calculate no. studies per theme per year   </span></span>
<span><span class="va">PrxThxYe</span><span class="op">&lt;-</span><span class="va">PrxThxYe</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>N.Studies<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">Code</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">Theme</span>,<span class="va">Date</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co"># Subset to fewer themes to simplify plot</span></span>
<span><span class="va">PrxThxYe</span><span class="op">&lt;-</span><span class="va">PrxThxYe</span><span class="op">[</span><span class="va">Theme</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Nutrient Management"</span>,<span class="st">"Agroforestry"</span>,<span class="st">"Postharvest"</span>,<span class="st">"Soil Management"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co"># Order on publication year</span></span>
<span><span class="va">PrxThxYe</span><span class="op">&lt;-</span><span class="va">PrxThxYe</span><span class="op">[</span>, <span class="va">Date</span><span class="op">:=</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">Date</span><span class="op">)</span><span class="op">]</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">Date</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co"># Get cumulative sum by theme by year</span></span>
<span><span class="va">PrxThxYe</span><span class="op">[</span>,<span class="va">Cum.Sum</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/cumsum.html" class="external-link">cumsum</a></span><span class="op">(</span><span class="va">N.Studies</span><span class="op">)</span>, by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">Theme</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Plot</span></span>
<span><span class="fu">ggplot</span><span class="op">(</span><span class="va">PrxThxYe</span>,<span class="fu">aes</span><span class="op">(</span>x<span class="op">=</span><span class="va">Date</span>,y<span class="op">=</span><span class="va">Cum.Sum</span>,col<span class="op">=</span><span class="va">Theme</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">geom_line</span><span class="op">(</span>alpha<span class="op">=</span><span class="fl">1</span>,size<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>title<span class="op">=</span><span class="st">"Cumulative number of studies reporting practice themes over time"</span>,</span>
<span>       x<span class="op">=</span> <span class="st">"Publication Year"</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"No. Studies"</span><span class="op">)</span></span></code></pre></div>
<p><img src="ERA-Introduction_files/figure-html/Bibliographic-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="spatial-variables">Spatial Variables<a class="anchor" aria-label="anchor" href="#spatial-variables"></a>
</h2>
<p>ERA’s power, in part, comes from the ability to link it to other
datasets such as soils, historical climate, distance to markets among
many others. Unfortunately, geographic coordinates have not always been
commonly reported. Even today coordinates are often reported with low
degrees of precision or are simply incorrect. During data extraction,
significant effort was made to identify the most likely coordinates for
where a study occurred and to provide some estimate of uncertainty for
those coordinates. These data can be found in the
<strong><code>Country</code></strong>,
<strong><code>Site.ID</code></strong>,
,<strong><code>Latitude</code></strong>,
<strong><code>Longitude</code></strong> and
<strong><code>Buffer</code></strong> fields. These fields give the
spatial location of the site in decimal degrees and a radius of
uncertainty in meters. There is also the <strong>Site.Key</strong> field
which is a concatenation of the <strong><code>Latitude</code></strong>,
<strong><code>Longitude</code></strong> and
<strong><code>Buffer</code></strong> fields, this can be used to
identify unique locations independent of what the site is called in a
publication (i.e. the <strong><code>Site.ID</code></strong> field). We
standardized location names so the experiments that occurred at the same
locations have the same corresponding names.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="fu">ERAg</span><span class="fu">::</span><span class="va"><a href="../reference/ERA.Compiled.html">ERA.Compiled</a></span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">Country</span>,<span class="va">Site.ID</span>,<span class="va">Latitude</span>,<span class="va">Longitude</span>,<span class="va">Buffer</span><span class="op">)</span><span class="op">]</span><span class="op">)</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Country</th>
<th align="left">Site.ID</th>
<th align="right">Latitude</th>
<th align="right">Longitude</th>
<th align="right">Buffer</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Mali</td>
<td align="left">Sougoumba</td>
<td align="right">12.1700</td>
<td align="right">-5.1000</td>
<td align="right">550</td>
</tr>
<tr class="even">
<td align="left">Mali</td>
<td align="left">Tafla</td>
<td align="right">13.2000</td>
<td align="right">-4.8800</td>
<td align="right">550</td>
</tr>
<tr class="odd">
<td align="left">Mali</td>
<td align="left">Tinfounga</td>
<td align="right">11.1200</td>
<td align="right">-8.4400</td>
<td align="right">550</td>
</tr>
<tr class="even">
<td align="left">Guinea</td>
<td align="left">Bareng ARS</td>
<td align="right">11.1555</td>
<td align="right">-12.5285</td>
<td align="right">400</td>
</tr>
<tr class="odd">
<td align="left">Mali</td>
<td align="left">Cinzana ARS</td>
<td align="right">13.2790</td>
<td align="right">-5.9340</td>
<td align="right">600</td>
</tr>
</tbody>
</table>
<p>The <code>Pbuffer</code> function creates a
<code>SpatialPolygons</code> object of all the study sites in ERA.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">SiteBuffers</span><span class="op">&lt;-</span><span class="fu">ERAg</span><span class="fu">::</span><span class="fu"><a href="../reference/Pbuffer.html">Pbuffer</a></span><span class="op">(</span>Data<span class="op">=</span><span class="fu">ERAg</span><span class="fu">::</span><span class="va"><a href="../reference/ERA.Compiled.html">ERA.Compiled</a></span>, ID <span class="op">=</span> <span class="cn">NA</span>, Projected <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: Invalid coordinate (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: Invalid coordinate (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: Invalid coordinate (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: Invalid coordinate (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: Invalid coordinate (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: Invalid coordinate (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: Invalid coordinate (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: Invalid coordinate (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: Invalid coordinate (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: Invalid coordinate (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: Invalid coordinate (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: Invalid coordinate (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: Invalid coordinate (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: Invalid coordinate (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: Invalid coordinate (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: Invalid coordinate (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: Invalid coordinate (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: Invalid coordinate (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: Invalid coordinate (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: Reprojection failed, err = 2049, further errors will be suppressed on</span></span>
<span><span class="co">#&gt; the transform object. (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="co">#&gt; Warning: PROJ: merc: Invalid latitude (GDAL error 1)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">SiteBuffers</span><span class="op">)</span></span></code></pre></div>
<p><img src="ERA-Introduction_files/figure-html/Buffers-1.png" width="672"></p>
<p>You will immediately notice that some locations have very high
spatial uncertainty, which can derive from the aggregation of sites in
reporting. Depending on the use, it may be worth considering filtering
these from the dataset using the <code>Buffer</code> field.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Filter dataset to sites with spatial uncertainty radius of less than 5km</span></span>
<span><span class="va">ERA.Compiled</span><span class="op">&lt;-</span><span class="fu">ERAg</span><span class="fu">::</span><span class="va"><a href="../reference/ERA.Compiled.html">ERA.Compiled</a></span><span class="op">[</span><span class="va">Buffer</span><span class="op">&lt;</span><span class="fl">5000</span><span class="op">]</span></span></code></pre></div>
<p>The spatial distribution of ERA data can be visualized with the
<code>ERAHexPlot</code> functions:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ERAgON</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ERAgON/man/ERAHexPlot.html" class="external-link">ERAHexPlot</a></span><span class="op">(</span>Data<span class="op">=</span><span class="va">ERA.Compiled</span>,Low <span class="op">=</span> <span class="st">"grey10"</span>,Mid <span class="op">=</span> <span class="st">"grey80"</span>,High <span class="op">=</span> <span class="st">"black"</span>,Point.Col <span class="op">=</span> <span class="st">"yellow"</span>,Do.Log<span class="op">=</span><span class="st">"Yes"</span>,Showpoints<span class="op">=</span><span class="st">"Yes"</span>,ALevel<span class="op">=</span><span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
<p><img src="ERA-Introduction_files/figure-html/Hexplot-1.png" width="672"></p>
<p>We can also use the <code>ERAAlphaPlot</code> function from the
helper functions supplied in the <code>ERAgON</code> package. A
background map can be added to the plot using the Background parameters,
in this case we add a farming system map supplied from the <a href="https://doi.org/10.7910/DVN/G4TBLF/7RIFT5" class="external-link">CELL5M</a> dataset.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">ERAgON</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ERAgON/man/ERAAlphaPlot.html" class="external-link">ERAAlphaPlot</a></span><span class="op">(</span>Data <span class="op">=</span> <span class="va">ERA.Compiled</span>,</span>
<span>            Background <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>            Background.Labs <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>            Background.Cols <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>            Background.Title <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>            alpha.bandwidth <span class="op">=</span> <span class="fl">4</span>,</span>
<span>            Showpoints <span class="op">=</span> <span class="cn">T</span>,</span>
<span>            Low <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>            Mid <span class="op">=</span> <span class="st">"grey30"</span>,</span>
<span>            High <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>            Point.Col <span class="op">=</span> <span class="st">"Black"</span>,</span>
<span>            ALevel <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
<p><img src="ERA-Introduction_files/figure-html/Alphaplot-1.png" width="672"></p>
<div class="section level3">
<h3 id="aggregated-sites">Aggregated Sites<a class="anchor" aria-label="anchor" href="#aggregated-sites"></a>
</h3>
<p>Where experiments have been conducted across multiple sites it is not
unusual for results to be reported averaged across more than one site.
In ERA, combined sites are indicated by the concatenation of names in
the <strong><code>Site.ID</code></strong> field using a
<strong><code>..</code></strong> delimiter. Note that aggregation of
sites can lead to very large buffer distances.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">Agg.Sites</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">ERA.Compiled</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"[.][.]"</span>,<span class="va">Site.ID</span><span class="op">)</span>,</span>
<span>                               <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">Site.ID</span>,<span class="va">Latitude</span>,<span class="va">Longitude</span>,<span class="va">Buffer</span>,<span class="va">Version</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">Agg.Sites</span>,<span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Site.ID</th>
<th align="right">Latitude</th>
<th align="right">Longitude</th>
<th align="right">Buffer</th>
<th align="left">Version</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Mango..Koukombo</td>
<td align="right">10.31667</td>
<td align="right">0.41667</td>
<td align="right">31</td>
<td align="left">2018</td>
</tr>
<tr class="even">
<td align="left">Beja..Siliana</td>
<td align="right">36.41000</td>
<td align="right">9.27000</td>
<td align="right">176</td>
<td align="left">2018</td>
</tr>
<tr class="odd">
<td align="left">Kakamega..Vihiga</td>
<td align="right">0.18000</td>
<td align="right">34.37000</td>
<td align="right">202</td>
<td align="left">2018</td>
</tr>
<tr class="even">
<td align="left">Kapolin..Opwetta..Kadesok</td>
<td align="right">1.39000</td>
<td align="right">34.03000</td>
<td align="right">438</td>
<td align="left">2018</td>
</tr>
<tr class="odd">
<td align="left">Kisiro..Minani..NaCRRI</td>
<td align="right">0.66000</td>
<td align="right">33.33000</td>
<td align="right">538</td>
<td align="left">2018</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="temporal-variables">Temporal Variables<a class="anchor" aria-label="anchor" href="#temporal-variables"></a>
</h2>
<p>Understanding when an experiment took place is equally important to
its spatial location for linking ERA to many other data. Temporal
variables describe when an observation was measured in terms of year and
growing season, with year defined by the observation measurement date.
They also include any reported planting and harvest dates. The following
describe the field and format of temporal variables.</p>
<ol style="list-style-type: decimal">
<li>
<strong><code>M.Year</code></strong> = data entry code for season of
observation (we recommend you use the fields below where this is split
into component parts)</li>
<li>
<strong><code>M.Year.Start</code></strong> = start year of
observation period</li>
<li>
<strong><code>M.Year.End</code></strong> = end year of observation
period</li>
<li>
<strong><code>M.Season.Start</code></strong> = start season of
observation period</li>
<li>
<strong><code>M.Season.End</code></strong> = end season of
observation period</li>
<li>
<strong><code>Plant.Start</code></strong> = start date of planting
period/uncertainty (dd.mm.yyyy)</li>
<li>
<strong><code>Plant.End</code></strong> = end date of planting
period/uncertainty (dd.mm.yyyy)</li>
<li>
<strong><code>Harvest.Start</code></strong> = start date of harvest
period/uncertainty (dd.mm.yyyy)</li>
<li>
<strong><code>Harvest.End</code></strong> = end date of harvest
period/uncertainty (dd.mm.yyyy)</li>
<li>
<strong><code>Duration</code></strong> = duration of the experiment
for the season of observation (season 1 = 0.5)</li>
</ol>
<p>Experimental outcomes can be reported averaged over time. When this
is the case, <code>M.Year.Start</code> and <code>M.Season.Start</code>
indicate the starting season and <code>M.Year.End</code> and
<code>M.Season.End</code> the ending season, respectively for the
temporal reporting period. Season is typically used to indicate the
growing season in a bimodal rainfall area. However, it also used to
indicate non-seasonal experimental periods within a year, for example
multiple irrigated growing seasons.</p>
<p>Planting &amp; harvest start and end dates typically indicate
uncertainty as to when planting or harvesting occurred. For example,
when a publication reports crop <code>were planted in May 2012</code>
then <code>Plant.Start</code> would be 01.05.2012 and
<code>Plant.End</code> would be 31.05.2012.</p>
<p>Values of <strong><code>9999</code></strong> in <code>M.Year</code>
fields indicate the year an experimental outcome was not reported. This
situation is more common in postharvest or livestock diet experiments,
than agronomic experiments.</p>
</div>
<div class="section level2">
<h2 id="experimental-design">Experimental Design<a class="anchor" aria-label="anchor" href="#experimental-design"></a>
</h2>
<p>The number of experimental replications,
<strong><code>Rep</code></strong>, is used as a proxy for experimental
precision and used when calculating observation weights and calculating
effects sizes in ERA. Replications are used, instead of other measures
of variation, because standard deviations and standard errors are not
reported consistently. Given ERA’s scope (1,000s of papers), it was not
logistically possible to reach out to every author.
<strong><code>Plot.Size</code></strong> is the physical area per
replication. It can be another proxy for experimental precision and
could be used to weight observations. Last, ERA records whether the
experiment occurred on a research station or in a farmer’s field.</p>
</div>
<div class="section level2">
<h2 id="higher-level-concepts-practices-outcomes-and-products-eus">Higher Level Concepts: Practices, Outcomes, and Products (EUs)<a class="anchor" aria-label="anchor" href="#higher-level-concepts-practices-outcomes-and-products-eus"></a>
</h2>
<p>In addition to spatial and temporal variables, there are three high
level concepts that are the foundation of ERA’s experiment
classification system. These are <strong>practices</strong>,
<strong>outcomes</strong> and <strong>products</strong> (or experimental
units). Practices here is shorthand for <strong>Management practices and
technologies</strong> which describe agronomic, agroforestry, and
livestock interventions, for example, crop rotations, livestock dietary
supplements or the like. Outcomes, as they sound, relate to the
dependent variables in experiments (e.g., yield, benefit-cost ratios,
soil carbon). Products refers to the the species or commodity that the
outcome is measured on, for example maize, milk, or meat.</p>
<p>Each is organized hierarchically, where concepts are nested below and
above related concepts. This organization allows the user to aggregate
or disaggregate data using these fields to explore different questions,
from narrow (e.g., how does a Gliricidia-based alley cropping change
maize crop yields?) to broad (e.g., considering all products which
practices, on average, improve productivity, resilience and mitigation
outcomes?). It also facilitates the user to deliver information at the
level for the specific users. For example, policy makers refer to
agroforestry broadly while farmers are typically more interested in
nuanced (disaggregated) results for species and practices. ERA’s
practices, outcomes, and products hierarchies are unique but recently
has been mapped to other ontologies including <strong>AGROVOC</strong>
and <strong>AgrO</strong> to increase future interoperability. These
mappings will be available in future releases.</p>
<p>We can view the subordinates of these high level concepts by
accessing the datasets <code>PracticeCodes</code>,
<code>OutcomesCodes</code> and <code>EUCodes</code> included with the
<code>ERAg</code> package. Alternatively the organization of higher
level concepts can also be viewed in the <code>ERAConcepts</code> list
or in somewhat less detail in the manuscript describing the data.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ERAg</span><span class="fu">::</span><span class="va">ERAConcepts</span></span>
<span><span class="co">#&gt; $Prac.Levels</span></span>
<span><span class="co">#&gt;         Choice Choice.Code      Prac           Base</span></span>
<span><span class="co">#&gt;         &lt;char&gt;      &lt;char&gt;    &lt;char&gt;         &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: Subpractice           S SubPrName SubPrName.Base</span></span>
<span><span class="co">#&gt; 2:    Practice           P    PrName    PrName.Base</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Out.Levels</span></span>
<span><span class="co">#&gt;          Choice Choice.Code           Out</span></span>
<span><span class="co">#&gt;          &lt;char&gt;      &lt;char&gt;        &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: Subindicator          SI    Out.SubInd</span></span>
<span><span class="co">#&gt; 2:    Indicator           I       Out.Ind</span></span>
<span><span class="co">#&gt; 3:    Subpillar          SP Out.SubPillar</span></span>
<span><span class="co">#&gt; 4:       Pillar           P    Out.Pillar</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Prod.Levels</span></span>
<span><span class="co">#&gt;     Choice Choice.Code            Prod</span></span>
<span><span class="co">#&gt;     &lt;char&gt;      &lt;char&gt;          &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: Product           P  Product.Simple</span></span>
<span><span class="co">#&gt; 2: Subtype           S Product.Subtype</span></span>
<span><span class="co">#&gt; 3:    Type           T    Product.Type</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Agg.Levels</span></span>
<span><span class="co">#&gt;         Choice Choice.Code      Agg            Label</span></span>
<span><span class="co">#&gt;         &lt;char&gt;      &lt;char&gt;   &lt;char&gt;           &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: Observation           O    Index    No. Locations</span></span>
<span><span class="co">#&gt; 2:       Study           S     Code      No. Studies</span></span>
<span><span class="co">#&gt; 3:    Location           L Site.Key No. Observations</span></span></code></pre></div>
<div class="section level3">
<h3 id="management-practices-and-technologies">Management practices and technologies<a class="anchor" aria-label="anchor" href="#management-practices-and-technologies"></a>
</h3>
<p>We selected a set of management practices and technologies
(‘practices’ hereafter) based on existing literature and feedback from
development partners. This list includes a broad range of interventions
but clearly not all. Therefore, it is important to familiarize yourself
with what is included with ERA. Practice coding is highly disaggregated
with a single treatment receiving up to 13 individual codes. Codes for
every practice in that treatment are included such as seed, tillage,
fertilizer use, weeding, etc.</p>
<p>Each observation (row in the dataset) is set up to compare two
treatments. A treatment in an experiment may be compared to more than
one other treatment. What constitutes valid comparisons can be found in
the manuscript describing the dataset. But it is important to know that
a treatment from a single study may be presented in multiple
observations (rows) for those interested to not work on the comparisons
themselves.</p>
<div class="section level4">
<h4 id="management-practices-and-technologies-code-sheet">Management practices and technologies: Code Sheet<a class="anchor" aria-label="anchor" href="#management-practices-and-technologies-code-sheet"></a>
</h4>
<p>We can find practice codes, their names and definitions in the
<code>PracticeCodes</code> object:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu">ERAg</span><span class="fu">::</span><span class="va"><a href="../reference/PracticeCodes.html">PracticeCodes</a></span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="5%">
<col width="13%">
<col width="13%">
<col width="14%">
<col width="14%">
<col width="37%">
</colgroup>
<thead><tr class="header">
<th align="left">Code</th>
<th align="left">Theme</th>
<th align="left">Theme.Code</th>
<th align="left">Practice</th>
<th align="left">Practice.Code</th>
<th align="left">Subpractice</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">a1</td>
<td align="left">Agroforestry</td>
<td align="left">Agroforestry</td>
<td align="left">FMNR</td>
<td align="left">FMNR</td>
<td align="left">Farmer Managed Natural Regeneration</td>
</tr>
<tr class="even">
<td align="left">a3</td>
<td align="left">Agroforestry</td>
<td align="left">Agroforestry</td>
<td align="left">Alleycropping</td>
<td align="left">Al</td>
<td align="left">Alleycropping (N fixing)</td>
</tr>
<tr class="odd">
<td align="left">a4</td>
<td align="left">Agroforestry</td>
<td align="left">Agroforestry</td>
<td align="left">Alleycropping</td>
<td align="left">Al</td>
<td align="left">Alleycropping (Non N fixing)</td>
</tr>
<tr class="even">
<td align="left">a4.1</td>
<td align="left">Agroforestry</td>
<td align="left">Agroforestry</td>
<td align="left">Alleycropping</td>
<td align="left">Al</td>
<td align="left">Alleycropping (Mixed)</td>
</tr>
<tr class="odd">
<td align="left">a14</td>
<td align="left">Agroforestry</td>
<td align="left">Agroforestry</td>
<td align="left">Alleycropping</td>
<td align="left">Al</td>
<td align="left">Alleycropping (Unspecified)</td>
</tr>
</tbody>
</table>
<p>There are two types of practice code <strong>h codes</strong> and
<strong>ERA codes</strong> (all other code values). <strong>h
codes</strong> are control codes for unimproved or non-focal
experimental practices.</p>
</div>
<div class="section level4">
<h4 id="management-practices-and-technologies-data-extraction-variables">Management practices and technologies: Data Extraction
Variables<a class="anchor" aria-label="anchor" href="#management-practices-and-technologies-data-extraction-variables"></a>
</h4>
<p>The main columns used to describe practices and treatments
(treatments being a specific combination of experimental or control
practices) in data extraction include:<br>
1) <strong><code>T1:T13</code></strong> = <code>T columns</code> each
column can contain a single practice code and together they describe the
<strong>experimental</strong> treatment<br>
2) <strong><code>C1:C13</code></strong> = <code>C columns</code> each
column can contain a single practice code and together they describe the
<strong>control</strong> treatment<br>
3) <strong><code>TID</code></strong> = a short code beginning with T
identifying a unique experimental treatment within a study<br>
4) <strong><code>CID</code></strong> = a short code beginning with C
identifying a unique control treatment within a study<br>
5) <strong><code>T.Descrip</code></strong> = a short descriptive of the
experimental treatment (used to aid data entry)<br>
6) <strong><code>C.Descrip</code></strong> = a short descriptive of the
control treatment (used to aid data entry)</p>
<p>There are additional columns that describe aspects of specific
practices:<br>
1) <strong><code>T.NI/C.NI</code></strong> = the amount of inorganic
nitrogen applied in the experimental and control treatments<br>
2) <strong><code>T.NO/C.NO</code></strong> = the amount of organic
nitrogen applied in the experimental and control treatments<br>
3) <strong><code>Variety</code></strong> = the name of the crop or
animal variety,race,breed, etc. for the product (EU) of the
observation<br>
4) <strong><code>Diversity</code></strong> = a description of crop
diversification in time and/or space (i.e. intercropping and/or
rotation). A <code>/</code> indicates different growing seasons a
<code>..</code> or a <code>-</code> indicates intercropping. <em>We are
working to standardize the delimiters used in this field </em>. Current
differences are between two data entry periods. The 2020 data entry this
field shows the entire temporal sequence for an experiment, for the 2018
data entry the field captures only the repeating unit of a rotation (if
present)<br>
5) <strong><code>Tree</code></strong> = scientific name(s) of trees used
in agroforestry practices</p>
</div>
<div class="section level4">
<h4 id="management-practices-and-technologies-set-difference-approach">Management practices and technologies: Set Difference Approach<a class="anchor" aria-label="anchor" href="#management-practices-and-technologies-set-difference-approach"></a>
</h4>
<p>The base ERA analysis applies a set difference approach, where the
<code>T columns</code> are compared to the <code>C columns</code> to
extract: 1) experimental ERA practices (i.e. practices that do not
contain <code>h</code>) that are in the experimental, but not the
control treatment (<strong><code>plist</code></strong> column); and 2)
base practices that are shared between experimental and control
treatments (<strong><code>base.list</code></strong> column).</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">T.Cols</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"T"</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">13</span><span class="op">)</span></span>
<span><span class="va">C.Cols</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"C"</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">13</span><span class="op">)</span></span>
<span></span>
<span><span class="va">T.Cols</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">ERA.Compiled</span><span class="op">[</span><span class="fl">99</span>,<span class="va">..T.Cols</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">C.Cols</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">ERA.Compiled</span><span class="op">[</span><span class="fl">99</span>,<span class="va">..C.Cols</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">T.Cols</span></span>
<span><span class="co">#&gt; [1] "b21"   "b23"   "h2"    "h55"   "h6"    "h66.2" ""</span></span>
<span><span class="va">C.Cols</span></span>
<span><span class="co">#&gt; [1] "h66.2" "h6"    "h55"   "h2"    "b21"   ""</span></span>
<span></span>
<span><span class="co"># Remove blanks and h-codes</span></span>
<span><span class="va">T.Cols</span><span class="op">&lt;-</span><span class="va">T.Cols</span><span class="op">[</span><span class="op">!</span><span class="op">(</span><span class="va">T.Cols</span><span class="op">==</span><span class="st">""</span><span class="op">|</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"h"</span>,<span class="va">T.Cols</span><span class="op">)</span><span class="op">)</span> <span class="op">]</span></span>
<span><span class="va">C.Cols</span><span class="op">&lt;-</span><span class="va">C.Cols</span><span class="op">[</span><span class="op">!</span><span class="op">(</span><span class="va">C.Cols</span><span class="op">==</span><span class="st">""</span><span class="op">|</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"h"</span>,<span class="va">C.Cols</span><span class="op">)</span><span class="op">)</span> <span class="op">]</span></span>
<span></span>
<span><span class="va">T.Cols</span></span>
<span><span class="co">#&gt; [1] "b21" "b23"</span></span>
<span><span class="va">C.Cols</span></span>
<span><span class="co">#&gt; [1] "b21"</span></span>
<span></span>
<span><span class="co"># Experimental practices in experimental treatment but not the control treatment (plist column)</span></span>
<span><span class="va">T.Cols</span><span class="op">[</span><span class="op">!</span><span class="va">T.Cols</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">C.Cols</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1] "b23"</span></span>
<span></span>
<span><span class="co"># Base practices in both experimental and control treatments (base.list column)</span></span>
<span><span class="va">T.Cols</span><span class="op">[</span><span class="va">T.Cols</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">C.Cols</span><span class="op">]</span></span>
<span><span class="co">#&gt; [1] "b21"</span></span></code></pre></div>
<p>Multiple practices in base or experimental columns are sorted then
concatenated using a <code>-</code> delimiter.</p>
<p>For convenience we have translated the codes in the
<strong><code>plist</code></strong> and
<strong><code>base.list</code></strong> columns into their corresponding
names and codes from <code><a href="../reference/PracticeCodes.html">ERAg::PracticeCodes</a></code>:<br>
1) <strong><code>PrName</code></strong> = (experimental) practice
name<br>
2) <strong><code>PrName.Base</code></strong> = base practice name<br>
3) <strong><code>SubPrName</code></strong> = (experimental) subpractice
name (<em>note that this corresponds to the Subpractice.S field in the
PracticeCodes</em>) 4) <strong><code>SubPrName.Base</code></strong> =
base practice name (<em>note that this corresponds to the Subpractice.S
field in the PracticeCodes</em>) 5) <strong><code>Theme</code></strong>
= (experimental) practice theme name<br>
6) <strong><code>Theme.Base</code></strong> = base practice theme
name</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">ERA.Compiled</span><span class="op">[</span><span class="fl">99</span>,<span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">plist</span>,<span class="va">base.list</span>,<span class="va">SubPrName</span>,<span class="va">SubPrName.Base</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">plist</th>
<th align="left">base.list</th>
<th align="left">SubPrName</th>
<th align="left">SubPrName.Base</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">b23</td>
<td align="left">b21</td>
<td align="left">Inputs Urea</td>
<td align="left">Inputs P</td>
</tr></tbody>
</table>
</div>
<div class="section level4">
<h4 id="management-practices-and-technologies-aggregated-treatments">Management practices and technologies: Aggregated Treatments<a class="anchor" aria-label="anchor" href="#management-practices-and-technologies-aggregated-treatments"></a>
</h4>
<p>As with sites and reporting seasons, authors sometimes average
outcomes across experimental treatments, for example in a tillage x
fertilizer experiment the results of fertilizer might be reported
averaged to for tillage and vice-versa. In the 2018 dataset
(<code>Version == 2018</code>) aggregated treatments are indicated in
the <code>TID</code>/<code>CID</code> field with a <code>.</code> delim
for example <code>T1.T2.T3</code> in the 2020 dataset
(<code>Version == 2020</code>) aggregated treatments are indicated in
the <code>T.Descrip</code>/<code>C.Descrip</code> fields with a
<code>..</code> delim for example
<code>120 T1..120 T2..120T3..120 T4..120 T5</code>.</p>
<p>Aggregated treatments must have identical management for the
aggregated practices in both control and treatment, for example if the
experimental vs control comparison is tillage vs no-tillage and
aggregation is across five levels of inorganic nitrogen application (0N,
20N, 40N, 60N and 100N) both tillage and no-tillage must be averaged
across the same five levels of nitrogen application.</p>
<p>In the 2020 data entry a practice is added to control and treatment
for when a practice is present in 50% or more of the aggregated
treatments.</p>
<p>Data on practices averaged across different rotation or intercropping
sequences is not collected.</p>
</div>
</div>
<div class="section level3">
<h3 id="outcomes">Outcomes<a class="anchor" aria-label="anchor" href="#outcomes"></a>
</h3>
<p>Outcomes are simpler than practices as each ERA observation can only
have a single outcome. Outcomes were selected to capture metrics of
productivity, proxies for resilience, and climate change mitigation. The
selection process was driven by practicality, how can we ensure a good
distributions of metrics across our end goals, what type of information
is typically collected, and what type of information are stakeholders
requesting. A fuller description of the outcomes and specifically how
resilience is considered in the accompanying manuscript draft.</p>
<div class="section level4">
<h4 id="outcomes-code-sheet">Outcomes: Code Sheet<a class="anchor" aria-label="anchor" href="#outcomes-code-sheet"></a>
</h4>
<p>Outcome codes, their names and definitions can be found in the
<code>OutcomeCodes</code> object:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu">ERAg</span><span class="fu">::</span><span class="va"><a href="../reference/OutcomeCodes.html">OutcomeCodes</a></span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="8%">
<col width="18%">
<col width="18%">
<col width="14%">
<col width="21%">
<col width="19%">
</colgroup>
<thead><tr class="header">
<th align="right">Code</th>
<th align="left">Pillar</th>
<th align="left">Pillar.Code</th>
<th align="left">Subpillar</th>
<th align="left">Subpillar.Code</th>
<th align="left">Indicator</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">101.0</td>
<td align="left">Productivity</td>
<td align="left">Productivity</td>
<td align="left">Yield</td>
<td align="left">Yi</td>
<td align="left">Product Yield</td>
</tr>
<tr class="even">
<td align="right">101.1</td>
<td align="left">Productivity</td>
<td align="left">Productivity</td>
<td align="left">Yield</td>
<td align="left">Yi</td>
<td align="left">Product Yield</td>
</tr>
<tr class="odd">
<td align="right">101.2</td>
<td align="left">Productivity</td>
<td align="left">Productivity</td>
<td align="left">Yield</td>
<td align="left">Yi</td>
<td align="left">Product Yield</td>
</tr>
<tr class="even">
<td align="right">103.0</td>
<td align="left">Productivity</td>
<td align="left">Productivity</td>
<td align="left">Yield</td>
<td align="left">Yi</td>
<td align="left">Product Yield</td>
</tr>
<tr class="odd">
<td align="right">118.0</td>
<td align="left">Productivity</td>
<td align="left">Productivity</td>
<td align="left">Yield</td>
<td align="left">Yi</td>
<td align="left">Product Yield</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="outcomes-era-columns">Outcomes: ERA Columns<a class="anchor" aria-label="anchor" href="#outcomes-era-columns"></a>
</h4>
<ol style="list-style-type: decimal">
<li>
<strong><code>Outcode</code></strong> = the outcome code
<code>OutcomeCodes$Code</code> for the observation<br>
</li>
<li>
<strong><code>Units</code></strong> = the unit of outcome
reporting<br>
</li>
<li>
<strong><code>Out.SubInd</code></strong> = outcome subindicator
name<br>
</li>
<li>
<strong><code>Out.Ind</code></strong> = outcome indicator name<br>
</li>
<li>
<strong><code>Out.SubPillar</code></strong> = outcome subpillar
name<br>
</li>
<li>
<strong><code>Out.Pillar</code></strong> = outcome pillar name</li>
</ol>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">ERA.Compiled</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">Units</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">Outcode</span>,<span class="va">Units</span>,<span class="va">Out.SubInd</span>,<span class="va">Out.Ind</span>,<span class="va">Out.Pillar</span><span class="op">)</span><span class="op">]</span><span class="op">)</span>,<span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="11%">
<col width="14%">
<col width="27%">
<col width="26%">
<col width="19%">
</colgroup>
<thead><tr class="header">
<th align="left">Outcode</th>
<th align="left">Units</th>
<th align="left">Out.SubInd</th>
<th align="left">Out.Ind</th>
<th align="left">Out.Pillar</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">101</td>
<td align="left">Mg/ha</td>
<td align="left">Crop Yield</td>
<td align="left">Product Yield</td>
<td align="left">Productivity</td>
</tr>
<tr class="even">
<td align="left">102</td>
<td align="left">Mg/ha</td>
<td align="left">Crop Residue Yield</td>
<td align="left">Non-Product Yield</td>
<td align="left">Productivity</td>
</tr>
<tr class="odd">
<td align="left">226</td>
<td align="left">mg/kg</td>
<td align="left">Soil Nitrogen</td>
<td align="left">Soil Quality</td>
<td align="left">Resilience</td>
</tr>
<tr class="even">
<td align="left">226</td>
<td align="left">mg/kg NO3</td>
<td align="left">Soil Nitrogen</td>
<td align="left">Soil Quality</td>
<td align="left">Resilience</td>
</tr>
<tr class="odd">
<td align="left">226</td>
<td align="left">mg/kg NH4</td>
<td align="left">Soil Nitrogen</td>
<td align="left">Soil Quality</td>
<td align="left">Resilience</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="outcome-partial-outcomes">Outcome: Partial Outcomes<a class="anchor" aria-label="anchor" href="#outcome-partial-outcomes"></a>
</h4>
<p>The <strong><code>Partial.Outcome.Code</code></strong> and
<strong><code>Partial.Outcome.Name</code></strong> columns related
specifically to economic outcomes and the concept of marginal outcomes,
in particular costs, benefits, and variables derived from these such as
benefit-cost ratio. Values in these fields indicate that the outcome
does not consider the entire treatment, but only the practices indicated
by the codes and names present. For example a partial outcome could be
the marginal cost of using improved seeds.</p>
</div>
<div class="section level4">
<h4 id="outcomes-currency-outcomes">Outcomes: Currency Outcomes<a class="anchor" aria-label="anchor" href="#outcomes-currency-outcomes"></a>
</h4>
<p>Where economic outcomes are reported using a currency unit the
<strong><code>USD2010.C</code></strong> and
<strong><code>USD2010.T</code></strong> columns standardize these to a
USD value in 2010 for the control and experimental treatments
respectively.</p>
<p>We use purchasing power parity (<a href="https://data.worldbank.org/indicator/PA.NUS.PRVT.PP" class="external-link"><code>PPP</code></a>),
consumer price index (<a href="https://data.worldbank.org/indicator/FP.CPI.TOTL" class="external-link"><code>CPI</code></a>)
and USD/local currency exchange rates (<a href="https://data.worldbank.org/indicator/PA.NUS.FCRF" class="external-link"><code>xrat</code></a>)
to standardize local currency to USD:<br>
1) <code>USD</code> values are converted back to local currency using
the <code>xrat</code> for the year and country 2) <code>CPI</code>
adjust local currencies to their value in 2010<br>
3) <code>CPI</code> adjusted 2010 values are divided by
<code>PPP</code></p>
<p>Data are not present for all countries and years, in particular
Zimbabwe.</p>
</div>
</div>
<div class="section level3">
<h3 id="products">Products<a class="anchor" aria-label="anchor" href="#products"></a>
</h3>
<p>Products are the final high level concept in ERA. Due to legacy of
the data extraction, products are also called experiment units (EUs) in
ERA. Products as mentioned refer to what is being measured. This is
typically a plant species or animal product. Note that parts of the
plant are often differentiated in the outcome code (e.g., 101 for crop
yield and 102 for biomass yield such as maize stover). In most cases,
only 1 product is provided per observation. When more than one product
relates to an observation outcome product codes or names are
concatenated with a <code>-</code> delimiter.</p>
<div class="section level4">
<h4 id="products-code-sheet">Products: Code Sheet<a class="anchor" aria-label="anchor" href="#products-code-sheet"></a>
</h4>
<p>Products codes, their names and definitions can be found in the
<code>EUCodes</code> object:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu">ERAg</span><span class="fu">::</span><span class="va"><a href="../reference/EUCodes.html">EUCodes</a></span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">15</span>,<span class="fl">40</span>,<span class="fl">60</span>,<span class="fl">80</span>,<span class="fl">100</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">8</span>,<span class="fl">9</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="5%">
<col width="18%">
<col width="22%">
<col width="25%">
<col width="28%">
</colgroup>
<thead><tr class="header">
<th align="left">EU</th>
<th align="left">Product.Type</th>
<th align="left">Product.Subtype</th>
<th align="left">Product.Simple</th>
<th align="left">Product.Simple.Code</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">a14</td>
<td align="left">Animal</td>
<td align="left">Equine</td>
<td align="left">Horse</td>
<td align="left">Hors</td>
</tr>
<tr class="even">
<td align="left">c8</td>
<td align="left">Plant</td>
<td align="left">Cereals</td>
<td align="left">Other Millet</td>
<td align="left">OtMi</td>
</tr>
<tr class="odd">
<td align="left">d9</td>
<td align="left">Plant</td>
<td align="left">Fibre &amp; Wood</td>
<td align="left">Kapok</td>
<td align="left">Kap</td>
</tr>
<tr class="even">
<td align="left">b3</td>
<td align="left">Plant</td>
<td align="left">Fruits</td>
<td align="left">Cherry</td>
<td align="left">Cher</td>
</tr>
<tr class="odd">
<td align="left">e19</td>
<td align="left">Plant</td>
<td align="left">Fruits</td>
<td align="left">Peach &amp; Nectarine</td>
<td align="left">PeNe</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="products-era-columns">Products: ERA Columns<a class="anchor" aria-label="anchor" href="#products-era-columns"></a>
</h4>
<ol style="list-style-type: decimal">
<li>
<strong><code>EU</code></strong> =
<code>depreciated: the product code  for the observation using a . delim for multiple products</code><br>
</li>
<li>
<strong><code>EUlist</code></strong> = the product code
<code>OutcomeCodes$Code</code> for the observation using a
<code>-</code> delim for multiple products<br>
</li>
<li>
<strong><code>Product</code></strong> = the full name of the
product, including aspect of the component such as grain, meat or
milk<br>
</li>
<li>
<strong><code>Product.Simple</code></strong> = simplified product
name, excluding any aspects of component<br>
</li>
<li>
<strong><code>Product.Subtype</code></strong> = product subtype
name<br>
</li>
<li>
<strong><code>Product.Type</code></strong> = product type name</li>
</ol>
</div>
</div>
</div>
<div class="section level2">
<h2 id="biophysical-variables">Biophysical Variables<a class="anchor" aria-label="anchor" href="#biophysical-variables"></a>
</h2>
<p>You can find a range of variables to define the context of an ERA
observation and we will be adding more functions to <code>ERAg</code> to
enable you to link spatio-temporal co-ordinates to biophysical
datasets.</p>
<p><code>An update is pending to complete the biophysical datasets, this should be ready by 07.05.2021</code></p>
<div class="section level3">
<h3 id="climate">Climate<a class="anchor" aria-label="anchor" href="#climate"></a>
</h3>
<div class="section level4">
<h4 id="climate-reported">Climate: Reported<a class="anchor" aria-label="anchor" href="#climate-reported"></a>
</h4>
<p>ERA harvests the following long-term average or seasonal climate
variables when reported from published data:<br>
1) <strong><code>MAT</code></strong> = mean annual temperature
(&amp;degC)<br>
2) <strong><code>MAP</code></strong> = mean annual precipitation
(mm)<br>
3) <strong><code>MSP</code></strong> means seasonal precipitation (mm;
matched to the growing season of the observation)<br>
4) <strong><code>TAP</code></strong> total annual precipitation (mm;
matched to the year of the observation)<br>
5) <strong><code>TSP</code></strong> total seasonal precipitation (mm;
matched to the growing season of the observation)</p>
<p>These fields are <code>NA</code> where no information was
available.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">ERA.Compiled</span><span class="op">[</span><span class="op">!</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">MAT</span><span class="op">)</span><span class="op">|</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">MAP</span><span class="op">)</span><span class="op">|</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">TSP</span><span class="op">)</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">Code</span>,<span class="va">Country</span>,<span class="va">Site.Key</span>,<span class="va">MAT</span>,<span class="va">MAP</span>,<span class="va">MSP</span>,<span class="va">TAP</span>,<span class="va">TSP</span><span class="op">)</span><span class="op">]</span><span class="op">)</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="10%">
<col width="19%">
<col width="33%">
<col width="8%">
<col width="7%">
<col width="5%">
<col width="5%">
<col width="8%">
</colgroup>
<thead><tr class="header">
<th align="left">Code</th>
<th align="left">Country</th>
<th align="left">Site.Key</th>
<th align="left">MAT</th>
<th align="left">MAP</th>
<th align="left">MSP</th>
<th align="left">TAP</th>
<th align="left">TSP</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">NN0100</td>
<td align="left">Tunisia</td>
<td align="left">33.4980 10.6390 B400</td>
<td align="left">20</td>
<td align="left">150</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">140</td>
</tr>
<tr class="even">
<td align="left">NN0157</td>
<td align="left">South Africa</td>
<td align="left">-28.8160 29.3690 B1000</td>
<td align="left">13</td>
<td align="left">684</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">351</td>
</tr>
<tr class="odd">
<td align="left">NN0170</td>
<td align="left">South Africa</td>
<td align="left">-22.9793 30.4380 B300</td>
<td align="left">24.5</td>
<td align="left">500</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">168.8</td>
</tr>
<tr class="even">
<td align="left">NN0346</td>
<td align="left">Ghana</td>
<td align="left">06.6800 -1.5600 B1000</td>
<td align="left">26.61</td>
<td align="left">1375</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">154</td>
</tr>
<tr class="odd">
<td align="left">NN0346</td>
<td align="left">Ghana</td>
<td align="left">06.6800 -1.5600 B1000</td>
<td align="left">26.61</td>
<td align="left">1375</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">320</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Make sure Mean.Annual.Precip variable is numeric</span></span>
<span><span class="co"># Average Mean.Annual.Precip for unique spatial locations</span></span>
<span><span class="co"># Select Mean.Annual.Precip variable from data.table</span></span>
<span></span>
<span><span class="va">MAP</span><span class="op">&lt;-</span><span class="va">ERA.Compiled</span><span class="op">[</span>,<span class="va">MAP</span><span class="op">:=</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">MAP</span><span class="op">)</span></span>
<span>                  <span class="op">]</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">MAP</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>MAP<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">MAP</span><span class="op">)</span><span class="op">)</span>,by<span class="op">=</span><span class="va">Site.Key</span></span>
<span>                    <span class="op">]</span><span class="op">[</span>,<span class="va">MAP</span><span class="op">]</span> </span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span><span class="va">MAP</span>,main<span class="op">=</span><span class="st">"Reported MAP Histogram"</span>,xlab<span class="op">=</span><span class="st">"Mean annual precipitation (mm)"</span><span class="op">)</span></span></code></pre></div>
<p><img src="ERA-Introduction_files/figure-html/Climate%20Published-1.png" width="480" style="display: block; margin: auto;"></p>
</div>
<div class="section level4">
<h4 id="climate-derived">Climate: Derived<a class="anchor" aria-label="anchor" href="#climate-derived"></a>
</h4>
<p>In <code>ERA.Compiled</code> we have also added two climate fields
extracted from geo-spatial climate datasets using the buffers created by
the <code>Pbuffer</code> function:<br>
1) <strong><code>Mean.Annual.Temp</code></strong> = mean annual
temperature (C) derived from the <a href="https://power.larc.nasa.gov" class="external-link">NASA POWER</a> dataset API at
0.5&amp;deg resolution.<br>
2) <strong><code>Mean.Annual.Precip</code></strong> = mean annual
precipitation (mm) derived from the <a href="https://www.chc.ucsb.edu/data/chirps" class="external-link">CHIRPS 2.0</a> dataset API
at 0.05&amp;deg resolution. <em>Note values less than zero come from a
bug we need to fix, please ignore these</em>.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">ERA.Compiled</span><span class="op">[</span><span class="op">!</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">MAT</span><span class="op">)</span><span class="op">|</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">MAP</span><span class="op">)</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">Code</span>,<span class="va">Country</span>,<span class="va">Site.Key</span>,<span class="va">MAT</span>,<span class="va">Mean.Annual.Temp</span>,<span class="va">MAP</span>,<span class="va">Mean.Annual.Precip</span><span class="op">)</span><span class="op">]</span><span class="op">)</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="10%">
<col width="9%">
<col width="25%">
<col width="6%">
<col width="19%">
<col width="7%">
<col width="21%">
</colgroup>
<thead><tr class="header">
<th align="left">Code</th>
<th align="left">Country</th>
<th align="left">Site.Key</th>
<th align="left">MAT</th>
<th align="right">Mean.Annual.Temp</th>
<th align="right">MAP</th>
<th align="right">Mean.Annual.Precip</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">NN0014.1</td>
<td align="left">Morocco</td>
<td align="left">32.9540 -7.6260 B1000</td>
<td align="left">19.55</td>
<td align="right">18.8</td>
<td align="right">358.00</td>
<td align="right">167.5742</td>
</tr>
<tr class="even">
<td align="left">NN0017</td>
<td align="left">Morocco</td>
<td align="left">31.6330 -8.2180 B5000</td>
<td align="left">17.3</td>
<td align="right">19.5</td>
<td align="right">250.00</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">NN0017</td>
<td align="left">Morocco</td>
<td align="left">31.6330 -8.2180 B5000</td>
<td align="left">17.3</td>
<td align="right">19.5</td>
<td align="right">237.53</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">NN0021</td>
<td align="left">Niger</td>
<td align="left">13.0000 07.1072 B1500</td>
<td align="left">29</td>
<td align="right">27.2</td>
<td align="right">500.00</td>
<td align="right">548.5129</td>
</tr>
<tr class="odd">
<td align="left">NN0025</td>
<td align="left">Niger</td>
<td align="left">13.2343 02.2840 B1100</td>
<td align="left">29</td>
<td align="right">28.7</td>
<td align="right">560.00</td>
<td align="right">548.2516</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">Mean.Annual.Precip</span><span class="op">&lt;-</span><span class="va">ERA.Compiled</span><span class="op">[</span>,<span class="va">Mean.Annual.Precip</span><span class="op">:=</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">Mean.Annual.Precip</span><span class="op">)</span></span>
<span>                                 <span class="op">]</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">Mean.Annual.Precip</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>Mean.Annual.Precip<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">Mean.Annual.Precip</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                                   by<span class="op">=</span><span class="va">Site.Key</span></span>
<span>                                   <span class="op">]</span><span class="op">[</span><span class="va">Mean.Annual.Precip</span><span class="op">&gt;</span><span class="fl">0</span>,<span class="va">Mean.Annual.Precip</span><span class="op">]</span> </span>
<span></span>
<span><span class="co"># In the line above we filter out any negative CHIRPs values (there's a bug we need to fix)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span><span class="va">Mean.Annual.Precip</span>,main<span class="op">=</span><span class="st">"CHIRPS 2.0 MAP Histogram"</span>,xlab<span class="op">=</span><span class="st">"Mean annual precipitation (mm)"</span><span class="op">)</span></span></code></pre></div>
<p><img src="ERA-Introduction_files/figure-html/Climate%20Derived-1.png" width="480" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level3">
<h3 id="soil">Soil<a class="anchor" aria-label="anchor" href="#soil"></a>
</h3>
<div class="section level4">
<h4 id="soil-reported">Soil: Reported<a class="anchor" aria-label="anchor" href="#soil-reported"></a>
</h4>
<p>ERA harvests the following baseline soil variables from published
data:<br>
1) <strong><code>Soil.Type</code></strong> = <em>Depreciated &amp; only
available for 2018 version; soil classification/name as presented by
author</em><br>
2) <strong><code>Soil.Classification</code></strong> = <em>Depreciated
&amp; only available for 2018 version; taxonomic system used to classify
the soil</em><br>
3) <strong><code>Soil.Texture</code></strong> = soil texture at
<strong>start</strong> of experiment as described by author or derived
from reported % sand, silt or clay using the <a href="https://www.nrcs.usda.gov/wps/portal/nrcs/detail/soils/survey/?cid=nrcs142p2_054167" class="external-link">USDA
soil texture triangle</a><br>
4) <strong><code>SOC</code></strong> = soil organic carbon at
<strong>start</strong> of experiment<br>
5) <strong><code>SOC.Unit</code></strong> = unit of reporting for
<code>SOC</code> field<br>
6) <strong><code>SOC.Depth</code></strong> = depth of <code>SOC</code>
reporting; min and max depths in cm concatenated with a <code>-</code>,
e.g. <code>0-30</code><br>
7) <strong><code>Soil.pH</code></strong> = soil pH at
<strong>start</strong> of experiment<br>
8) <strong><code>Soil.pH.Method</code></strong> = the method used to
calculate soil pH.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">ERA.Compiled</span><span class="op">[</span><span class="op">!</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">SOC</span><span class="op">)</span><span class="op">|</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">Soil.pH</span><span class="op">)</span><span class="op">|</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">Soil.Texture</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                                      <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">Code</span>,<span class="va">Site.Key</span>,<span class="va">Soil.Texture</span>,<span class="va">SOC</span>,<span class="va">SOC.Unit</span>,<span class="va">SOC.Depth</span>,<span class="va">Soil.pH</span>,<span class="va">Soil.pH.Method</span><span class="op">)</span><span class="op">]</span><span class="op">)</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="7%">
<col width="23%">
<col width="17%">
<col width="5%">
<col width="9%">
<col width="10%">
<col width="8%">
<col width="16%">
</colgroup>
<thead><tr class="header">
<th align="left">Code</th>
<th align="left">Site.Key</th>
<th align="left">Soil.Texture</th>
<th align="right">SOC</th>
<th align="left">SOC.Unit</th>
<th align="right">SOC.Depth</th>
<th align="right">Soil.pH</th>
<th align="left">Soil.pH.Method</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">NN0002</td>
<td align="left">11.1555 -12.5285 B400</td>
<td align="left">clay</td>
<td align="right">1.80</td>
<td align="left">%</td>
<td align="right">NA</td>
<td align="right">4.5</td>
<td align="left">H2O</td>
</tr>
<tr class="even">
<td align="left">NN0002</td>
<td align="left">13.2790 -5.9340 B600</td>
<td align="left">loamy fine sand</td>
<td align="right">0.50</td>
<td align="left">%</td>
<td align="right">NA</td>
<td align="right">5.5</td>
<td align="left">H2O</td>
</tr>
<tr class="odd">
<td align="left">NN0002</td>
<td align="left">10.3671 -9.3355 B500</td>
<td align="left">sandy loam</td>
<td align="right">0.50</td>
<td align="left">%</td>
<td align="right">NA</td>
<td align="right">5.0</td>
<td align="left">H2O</td>
</tr>
<tr class="even">
<td align="left">NN0003</td>
<td align="left">13.2790 -5.9340 B600</td>
<td align="left">loamy sand</td>
<td align="right">1.84</td>
<td align="left">g/kg</td>
<td align="right">10</td>
<td align="right">5.6</td>
<td align="left">H2O</td>
</tr>
<tr class="odd">
<td align="left">NN0003</td>
<td align="left">13.2790 -5.9340 B600</td>
<td align="left">clay</td>
<td align="right">9.16</td>
<td align="left">g/kg</td>
<td align="right">10</td>
<td align="right">6.2</td>
<td align="left">H2O</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="soil-derived">Soil: Derived<a class="anchor" aria-label="anchor" href="#soil-derived"></a>
</h4>
<p>Soil texture variables for depth 0-30 cm from the <a href="https://doi.org/10.1371/journal.pone.0169748" class="external-link">SoilGrids 2018</a>
dataset are also added to the <code>ERA.Complied</code> dataset:<br>
1) <strong><code>CLY</code></strong> = weight percentage of clay
particles (&lt;0.0002 mm)<br>
2) <strong><code>SLT</code></strong> = weight percentage of silt
particles (0.0002–0.05 mm)<br>
3) <strong><code>SND</code></strong> = weight percentage of the sand
particles (0.05–2 mm)<br>
These are averaged for each buffered site location with areas of slope
&gt; <em>insert value + unit</em> masked out.</p>
<p>A near complete list of SoilGrids 2018 variables for depths 0-5, 5-15
and 15-30cm can be found in the <code>ERA_SoilGrids18</code> dataset.
These variables can be matched to ERA observations using the
<code>Site.Key</code> parameter. For a description of fields in this
dataset see the SoilGrids Fields tab <a href="https://docs.google.com/spreadsheets/d/1WfcCKQgefVJnVYjIgnJ2u9g4ZcUWIiEVjhjbz7GCRYU/edit?usp=sharing" class="external-link">here</a>.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Lets look at Cation Exchange Capacity of soil (variable name = CECSOL) at 5-15cm (sl2)</span></span>
<span> <span class="va">Cols</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Site.Key"</span>,<span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"CECSOL_M_sl2"</span>,<span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">ERA_SoilGrids18</span><span class="op">)</span>,value<span class="op">=</span><span class="cn">T</span><span class="op">)</span><span class="op">)</span></span>
<span> <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu">ERAgON</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/ERAgON/man/ERA_SoilGrids18.html" class="external-link">ERA_SoilGrids18</a></span><span class="op">[</span>,<span class="va">Cols</span><span class="op">]</span>,<span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="21%">
<col width="22%">
<col width="20%">
<col width="35%">
</colgroup>
<thead><tr class="header">
<th align="left">Site.Key</th>
<th align="right">CECSOL_M_sl2_250m.Mean</th>
<th align="right">CECSOL_M_sl2_250m.SD</th>
<th align="left">CECSOL_M_sl2_250m.Quantiles</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">12.1700 -5.1000 B550</td>
<td align="right">4.187500</td>
<td align="right">0.9651174</td>
<td align="left">3|3.75|4|5|6</td>
</tr>
<tr class="even">
<td align="left">13.2000 -4.8800 B550</td>
<td align="right">7.920000</td>
<td align="right">1.0376255</td>
<td align="left">6|7|8|9|10</td>
</tr>
<tr class="odd">
<td align="left">11.1200 -8.4400 B550</td>
<td align="right">9.620690</td>
<td align="right">1.6990290</td>
<td align="left">7|8|9|11|13</td>
</tr>
<tr class="even">
<td align="left">11.1555 -12.5285 B400</td>
<td align="right">15.500000</td>
<td align="right">0.5144958</td>
<td align="left">15|15|15.5|16|16</td>
</tr>
<tr class="odd">
<td align="left">13.2790 -5.9340 B600</td>
<td align="right">7.290323</td>
<td align="right">1.5317430</td>
<td align="left">4|6.5|7|8|10</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># There are a lot of SoilGrids variables in this dataset:</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="fu">ERAgON</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/ERAgON/man/ERA_SoilGrids18.html" class="external-link">ERA_SoilGrids18</a></span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 168</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="elevation">Elevation<a class="anchor" aria-label="anchor" href="#elevation"></a>
</h3>
<div class="section level4">
<h4 id="elevation-reported">Elevation: Reported<a class="anchor" aria-label="anchor" href="#elevation-reported"></a>
</h4>
<p>The reported elevation of a location in a publication can be found in
the <code>Elevation</code> field.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">Elevation</span><span class="op">&lt;-</span><span class="va">ERA.Compiled</span><span class="op">[</span>,<span class="va">Elevation</span><span class="op">:=</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">Elevation</span><span class="op">)</span></span>
<span>                        <span class="op">]</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">Elevation</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>Elevation<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">Elevation</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                          by<span class="op">=</span><span class="va">Site.Key</span><span class="op">]</span><span class="op">[</span>,<span class="va">Elevation</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span><span class="va">Elevation</span>,main<span class="op">=</span><span class="st">"Elevation"</span>,xlab<span class="op">=</span><span class="st">"Reported Elevation (m)"</span><span class="op">)</span></span></code></pre></div>
<p><img src="ERA-Introduction_files/figure-html/Elevation-1.png" width="480" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># We have checked the site at ~4000m it is a valid observation!</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="elevation-derived">Elevation: Derived<a class="anchor" aria-label="anchor" href="#elevation-derived"></a>
</h4>
<p>Elevation data was derived from the <a href="10.5067/ASTER/ASTGTM.003">ASTER Global Digital Elevation Model</a>
at 1” resolution averaged for the spatial uncertainty buffer of each
site location. The elevation data were also used to calculate mean slope
and aspect. These variables can be found in the
<code><a href="https://rdrr.io/pkg/ERAgON/man/ERA_Physical.html" class="external-link">ERAgON::ERA_Physical</a></code> dataset and can be matched to ERA
observations using the <code>Site.Key</code> parameter.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span> <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu">ERAgON</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/ERAgON/man/ERA_Physical.html" class="external-link">ERA_Physical</a></span><span class="op">[</span>,<span class="fl">4</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span>,<span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="22%">
<col width="8%">
<col width="19%">
<col width="9%">
<col width="13%">
<col width="14%">
<col width="12%">
</colgroup>
<thead><tr class="header">
<th align="left">Site.Key</th>
<th align="left">Country</th>
<th align="left">ISO.3166.1.alpha.3</th>
<th align="right">DEMcells</th>
<th align="right">Altitude.med</th>
<th align="right">Altitude.mean</th>
<th align="right">Altitude.sd</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">12.1700 -5.1000 B550</td>
<td align="left">Mali</td>
<td align="left">MLI</td>
<td align="right">121</td>
<td align="right">422</td>
<td align="right">421.71</td>
<td align="right">5.28</td>
</tr>
<tr class="even">
<td align="left">13.2000 -4.8800 B550</td>
<td align="left">Mali</td>
<td align="left">MLI</td>
<td align="right">121</td>
<td align="right">278</td>
<td align="right">278.05</td>
<td align="right">1.87</td>
</tr>
<tr class="odd">
<td align="left">11.1200 -8.4400 B550</td>
<td align="left">Mali</td>
<td align="left">MLI</td>
<td align="right">121</td>
<td align="right">375</td>
<td align="right">374.94</td>
<td align="right">5.26</td>
</tr>
<tr class="even">
<td align="left">11.1555 -12.5285 B400</td>
<td align="left">Guinea</td>
<td align="left">GIN</td>
<td align="right">72</td>
<td align="right">1003</td>
<td align="right">1003.34</td>
<td align="right">3.12</td>
</tr>
<tr class="odd">
<td align="left">13.2790 -5.9340 B600</td>
<td align="left">Mali</td>
<td align="left">MLI</td>
<td align="right">169</td>
<td align="right">285</td>
<td align="right">284.73</td>
<td align="right">1.74</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level3">
<h3 id="agroecological-zone">Agroecological Zone<a class="anchor" aria-label="anchor" href="#agroecological-zone"></a>
</h3>
<p>Agroecological zones (AEZs) are defined for each <code>Site.ID</code>
as the modal value from the buffer of uncertainty:<br>
1) <strong><code>AEZ5</code></strong> 5-class AEZs Africa South of the
Sahara (SSA) based on the methodology developed by FAO and IIASA<br>
2) <strong><code>AEZ16</code></strong> 16-class AEZs for Africa South of
the Sahara (SSA) based on the methodology developed by FAO and
IIASA<br>
3) <strong><code>AEZ16simple</code></strong> a simplified version of
<code>AEZ16</code> removing the tropic/subtropic classification<br>
We use the IFPRI <a href="https://doi.org/10.7910/DVN/M7XIUB" class="external-link">Agro-Ecological Zones for
Africa South of the Sahara</a> datasets available on the Harvard
Dataverse.<br>
* Note AEZ maps do not cover northern Africa*.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">AEZ16Simple</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">ERA.Compiled</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">AEZ16simple</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">Site.Key</span>,<span class="va">AEZ16simple</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">[</span>,<span class="va">AEZ16simple</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/barplot.html" class="external-link">barplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="va">AEZ16Simple</span><span class="op">)</span>, las<span class="op">=</span><span class="fl">2</span>,col <span class="op">=</span> <span class="fu">brewer.pal</span><span class="op">(</span><span class="fl">8</span>, <span class="st">"Set2"</span><span class="op">)</span>,ylab<span class="op">=</span><span class="st">"No. Studies"</span><span class="op">)</span></span></code></pre></div>
<p><img src="ERA-Introduction_files/figure-html/AEZs-1.png" width="480" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="bioclimatic-variables">Bioclimatic variables<a class="anchor" aria-label="anchor" href="#bioclimatic-variables"></a>
</h3>
<p>According to the <a href="https://www.worldclim.org/data/bioclim.html" class="external-link">Worldclim 2.1
2020</a> dataset there are 19 “bioclimatic” variables which are derived
from the monthly temperature and rainfall values in order to generate
biologically meaningful variables. These are often used in species
distribution modeling and related ecological modeling techniques. The
bioclimatic variables represent annual trends (e.g., mean annual
temperature, annual precipitation) seasonality (e.g., annual range in
temperature and precipitation) and extreme or limiting environmental
factors (e.g., temperature of the coldest and warmest month, and
precipitation of the wet and dry quarters). A quarter is a period of
three months (1/4 of the year). Values are extracted for each unique ERA
location plus its buffer of spatial uncertainty.<br>
Bioclimatic data are extracted and summmarized for each unique ERA
location plus its buffer of spatial uncertainty, these data can be found
in the <em><code><a href="https://rdrr.io/pkg/ERAgON/man/ERA_BioClim.html" class="external-link">ERAgON::ERA_BioClim</a></code></em> object.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span>   <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu">ERAgON</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/ERAgON/man/ERA_BioClim.html" class="external-link">ERA_BioClim</a></span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="20%">
<col width="19%">
<col width="17%">
<col width="21%">
<col width="19%">
</colgroup>
<thead><tr class="header">
<th align="left">V1</th>
<th align="right">wc2.1_30s_bio_1.Mean</th>
<th align="right">wc2.1_30s_bio_1.SD</th>
<th align="right">wc2.1_30s_bio_1.Median</th>
<th align="right">wc2.1_30s_bio_1.Mode</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">12.1700 -5.1000 B550</td>
<td align="right">27.14792</td>
<td align="right">0.0147305</td>
<td align="right">27.14792</td>
<td align="right">27.15833</td>
</tr>
<tr class="even">
<td align="left">13.2000 -4.8800 B550</td>
<td align="right">27.41250</td>
<td align="right">0.0058925</td>
<td align="right">27.41250</td>
<td align="right">27.40833</td>
</tr>
<tr class="odd">
<td align="left">11.1200 -8.4400 B550</td>
<td align="right">26.82917</td>
<td align="right">NA</td>
<td align="right">26.82917</td>
<td align="right">26.82917</td>
</tr>
<tr class="even">
<td align="left">11.1555 -12.5285 B400</td>
<td align="right">22.40000</td>
<td align="right">NA</td>
<td align="right">22.40000</td>
<td align="right">22.40000</td>
</tr>
<tr class="odd">
<td align="left">13.2790 -5.9340 B600</td>
<td align="right">27.82292</td>
<td align="right">0.0088394</td>
<td align="right">27.82292</td>
<td align="right">27.82917</td>
</tr>
</tbody>
</table>
<p>Fields are described in the help for this object:
<code>?ERA_BioClim</code>.</p>
</div>
<div class="section level3">
<h3 id="landuse">Landuse<a class="anchor" aria-label="anchor" href="#landuse"></a>
</h3>
<p>The <a href="http://maps.elie.ucl.ac.be/CCI/viewer/index.php" class="external-link">CCI-LC
project</a> delivers a new time series of 24 consistent global LC maps
at 300 m spatial resolution on an annual basis from 1992 to 2015.<br>
The number of raster cells of each landcover class for the year 2015 is
summed for each unique ERA locations buffer of spatial
uncertainty.<br>
Landcover data can be found in the
<strong><code><a href="https://rdrr.io/pkg/ERAgON/man/ERA_CCI_LC_15.html" class="external-link">ERAgON::ERA_CCI_LC_15</a></code></strong> object and linked to
the <code>ERA.Complied</code> dataset using the <code>Site.Key</code>
field.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span>   <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu">ERAgON</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/ERAgON/man/ERA_CCI_LC_15.html" class="external-link">ERA_CCI_LC_15</a></span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">15</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="33%">
<col width="6%">
<col width="4%">
<col width="4%">
<col width="4%">
<col width="4%">
<col width="4%">
<col width="4%">
<col width="4%">
<col width="4%">
<col width="4%">
<col width="4%">
<col width="4%">
<col width="4%">
<col width="6%">
</colgroup>
<thead><tr class="header">
<th align="left">Site.Key</th>
<th align="right">10</th>
<th align="right">11</th>
<th align="right">12</th>
<th align="right">20</th>
<th align="right">30</th>
<th align="right">40</th>
<th align="right">50</th>
<th align="right">60</th>
<th align="right">61</th>
<th align="right">62</th>
<th align="right">70</th>
<th align="right">80</th>
<th align="right">90</th>
<th align="right">100</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">12.1700 -5.1000 B550</td>
<td align="right">140</td>
<td align="right">6</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">12</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">13.2000 -4.8800 B550</td>
<td align="right">63</td>
<td align="right">8</td>
<td align="right">0</td>
<td align="right">70</td>
<td align="right">15</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">11.1200 -8.4400 B550</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">25</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">90</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">11.1555 -12.5285 B400</td>
<td align="right">4</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">65</td>
<td align="right">41</td>
<td align="right">0</td>
<td align="right">10</td>
<td align="right">0</td>
<td align="right">33</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">13.2790 -5.9340 B600</td>
<td align="right">78</td>
<td align="right">28</td>
<td align="right">0</td>
<td align="right">14</td>
<td align="right">27</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p>A description of the fields in this dataset can be found in the
<strong><code>ERAgON::ERA_CCI_LC_15_Fields</code></strong> object.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span>   <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu">ERAgON</span><span class="fu">::</span><span class="va">ERA_CCI_LC_15_Fields</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,<span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="8%">
<col width="65%">
<col width="16%">
<col width="10%">
</colgroup>
<thead><tr class="header">
<th align="left">Field</th>
<th align="left">Description</th>
<th align="left">Included in</th>
<th align="left">Units</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">0</td>
<td align="left">% cover for No data</td>
<td align="left">NoData</td>
<td align="left">percent</td>
</tr>
<tr class="even">
<td align="left">10</td>
<td align="left">% cover for Cropland, rainfed</td>
<td align="left">Cropland</td>
<td align="left">percent</td>
</tr>
<tr class="odd">
<td align="left">11</td>
<td align="left">% cover for Herbaceous cover</td>
<td align="left">Open</td>
<td align="left">percent</td>
</tr>
<tr class="even">
<td align="left">12</td>
<td align="left">% cover for Tree or shrub cover</td>
<td align="left">Woody</td>
<td align="left">percent</td>
</tr>
<tr class="odd">
<td align="left">20</td>
<td align="left">% cover for Cropland, irrigated or post-flooding</td>
<td align="left">Cropland</td>
<td align="left">percent</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="other-derived-variables">Other Derived Variables<a class="anchor" aria-label="anchor" href="#other-derived-variables"></a>
</h2>
<p>Like other derived datasets these have been extracted for the spatial
uncertainty buffer for each ERA location and are linked to
<code>ERA/Compiled</code> using the <code>Site.Key</code> field.</p>
<p>A number of datasets including many from the former HarvestChoice
website now found on the <a href="https://dataverse.harvard.edu/dataverse/harvestchoice" class="external-link">Harvard
Dataverse</a> can be found in the
<code>ERAgON::ERA_Other_Linked_Data</code> dataset. You can find details
of these in the <code>ERAgON::ERA_Other_Linked_Data_Fields</code>
object:</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span> <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu">ERAgON</span><span class="fu">::</span><span class="va">ERA_Other_Linked_Data_Fields</span><span class="op">$</span><span class="va">Dataset_Descriptions</span><span class="op">[</span><span class="op">-</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Name"</span>,<span class="st">"Description"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="miscellaneous">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous"></a>
</h2>
<div class="section level3">
<h3 id="version-analysis-function-feilds">Version &amp; Analysis Function Feilds<a class="anchor" aria-label="anchor" href="#version-analysis-function-feilds"></a>
</h3>
<p>Data entry for ERA was undertaken in two tranches, one in 2018 and
one in 2020. In 2018 valid control vs. treatment comparisons were
decided by the person extracting the data, the amount of data extracted
is as presented in the <code>ERA.Compiled</code> dataset provided in
this package. In 2020 we increased the amount of data captured from a
publication and automated the process of deciding valid comparisons
using logic, data were simplified and reformatted to be compatible and
merged with the 2018 dataset. The <strong><code>Version</code></strong>
field indicates which tranche of data entry an observation comes
from.</p>
<p>There are a number of logical pathways in the 2020 analysis code that
can determine a comparison of control and treatment, the
<code>Analysis.Function</code> field in <code>ERA.Compiled</code>
details which pathway an observation derives from. This is a field
useful for developers.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Peter Steward.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
